{% extends 'base.html' %}
{% load staticfiles %}

{% block content %}
<div class="row">
    <div class="box">
        <div class="col-lg-12">
            <hr>
            <h2 class="intro-text text-center">
                <strong>Ricerca per {{ choice1|title }}</strong>
            </h2>
            <hr>
            <center>
              <form method="post" action=".">
                {% csrf_token %}
                <table class="table table-hover" style="width:350px;">
                    <tr>
                    </tr>
                    <tr>
                      <td><b>Inserisci:</b></td>
                      <td>
                        {% if choice1 == "name" %}
                            {{ form.name }}
                        {% endif %}
                        {% if choice1 == "category" %}
                            {{ form.category }}
                        {% endif %}
                        {% if choice1 == "subcategory" %}
                            {{ form.subcategory }}
                        {% endif %}
                        {% if choice1 == "difficulty" %}
                            {{ form.difficulty }}
                        {% endif %}
                        {% if choice1 == "preparation_time_min" %}
                            {{ form.preparation_time_min }}
                        {% endif %}
                        <input class="btn btn-primary" type="submit" value="Cerca" name= "{{ choice1 }}1" />
                      </td>
                    </tr>
                    <tr>
                      <td colspan="2"></td>
                    </tr>
                </table>
              </form>
              {% if recipe %}
              <hr>
              <h2 class="intro-text text-center">
                  <strong>Risultati ricerca</strong>
              </h2>
              <hr>
              <table class="table table-hover" style="width:80%;">
                <thead>
                  <tr>
                    <th>Titolo</th>
                    <th>Categoria</th>
                    <th>Tipo di piatto</th>
                    <th>Difficolt√†</th>
                    <th>Tempo di Preparazione (min)</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  {% for value in recipe %}
                   <tr>
                     <td>{{ value.name }}</td>
                     <td>{{ value.category }}</td>
                     <td>{{ value.subcategory }}</td>
                     <td>{{ value.difficulty }}</td>
                     <td>{{ value.preparation_time_min }}</td>
                     <td><a class="btn btn-primary glyphicon" href="/cookbook/{{ value.id }}">Info</a></td>
                   </tr>
                  {% endfor %}
                </tbody>
              </table>
              {% endif %}
            </center>
        </div>
    </div>
</div>

{% endblock %}
